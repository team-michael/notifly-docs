---
sidebar_position: 1
---

# 이메일 발송

노티플라이에서는 사용자들에게 이메일을 원하는 타이밍에 보낼 수 있습니다. 이메일 캠페인을 시작하시려면 발송 정보를 등록해 주셔야 합니다.

:::caution 수신자 이메일 인증

수신자의 이메일 주소는 인증코드나 인증링크 등의 방법으로 인증된 유효한 이메일 주소여야 합니다. 유효하지 않은 주소로 이메일을 전송할 경우, 반송률이 높아지며 10%가 넘는 발송률은 더 이상 이메일 발신이 불가능하며 스팸으로 처리됩니다.

:::

## 이메일 발신 정보 등록하기

노티플라이 프로젝트 설정 페이지에서 이메일 발송 정보를 입력할 수 있습니다.

1. 발송 도메인: 회사에서 사용하시는 도메인을 등록 및 인증하시면 그 도메인의 모든 이메일이 인증됩니다.
2. 발송 이메일: 도메인 인증 없이 개별 이메일을 등록 및 인증하여 사용하실 수 있습니다.

<img src={require("./img/email_settings.png").default} width="400px" />

### 1. 발송 이메일 개별적으로 등록하기

등록된 발송 이메일의 하단에 추가하기 버튼을 클릭하시면 개별 이메일을 등록 및 인증할 수 있습니다.

### 2. 발송 도메인 등록하기

대량 메일을 발송할 때 개인 이메일 주소(예:gmail.com)을 사용하시는 것보다, 회사에서 소유하고 관리하시는 도메인의 메일 주소를 사용하면 다음 두 가지 장점이 있습니다:

1. 수신자에게 신뢰감을 줍니다.
2. 스팸으로 분류될 확률을 낮출 수 있습니다.

도메일 인증 없이 메일을 발송하게 되면 때때로 수신자에게 메일이 전달되었을 때 다음과 같은 경고가 나타날 수 있습니다.

<img src={require("./img/email_warning.png").default} width="400px" />

노티플라이에서는 이메일 도메인 인증을 위해 SPF, DKIM을 설정하시는 것을 권장합니다. 설정을 하시면 위와 같은 경고를 방지하고 스팸으로 분류될 확률을 낮출 수 있습니다.

_SPF, DKIM 설정은 권장 사항일 뿐 필수가 아닙니다. 설정을 하지 않아도 이메일 발송은 진행할 수 있습니다._

1. 등록된 발송 도메인 의 하단에 추가하기 버튼을 클릭하여 사용하실 도메인을 입력합니다 (예: `example.com`)

<img src={require("./img/email_domain_register.png").default} width="400px" />

2. 등록이 완료되면 등록된 발송 도메인을 클릭하실 수 있습니다. 클릭하시면 다음과 같은 이메일 도메인에 대한 정보가 보이는 팝업이 뜹니다.

<img src={require("./img/email_dkim_register.png").default} width="700px" />

3. 도메인 인증을 위해 사용할 커스텀 subdomain을 정해주세요. 'mail'을 사용하시면 됩니다. 저장 후에는 표에 총 5개의 설정값들이 나오게 됩니다.

   <img src={require("./img/email_spf_register.png").default} width="700px" />

4. 사용하시는 도메인 관리 DNS 설정에 표에 있는 5가지 DNS 설정들을 입력해 주세요. DNS 설정에 어려움을 겪으시는 경우 노티플라이 팀으로 문의 부탁드립니다.

- [구글 도메인 DNS 설정](https://support.google.com/domains/answer/3290309?hl=ko&ref_topic=9018335&sjid=12768285378828216417-AP)
- [AWS Route53 도메인 DNS 설정](https://docs.aws.amazon.com/ko_kr/Route53/latest/DeveloperGuide/rrsets-working-with.html)
- [카페24 도메인 DNS 설정](https://help.cafe24.com/cs/cs_faq_view.php?idx=3766)
- [가비아 도메인 설정](https://customer.gabia.com/manual/domain/287/1201)
- [후이즈 도메인 DNS 설정](https://cs.whois.co.kr/faq/?p=list&service=1)

5. 설정이 완료되면 노티플라이 설정에서 도메인 주소의 상태가 초록색으로 변경됩니다. 클릭해서 모두 Success 상태인지 확인해 주세요.

<img src={require("./img/email_domain_status.png").default} width="300px" />
<img src={require("./img/email_domain_success.png").default} width="700px" />

6. 등록된 발송 이메일에서 이메일 주소를 추가해 주세요 (예: user@example.com). 도메인이 인증된 상태인 경우에 추가적인 인증 없이 바로 등록됩니다.

## FAQ

- Q. SPF, DKIM이 뭔가요?

  - A. SPF(Sender Policy Framework)와 DKIM(DomainKeys Identified Mail)은 이메일 수신 서비스(예: Gmail)에서 발신자가 신뢰할만한지 검증해 이메일 수신자에게 스팸 메일이 전달되는 것을 막기 위해 사용되는 방법입니다. 노티플라이와 같은 서비스를 사용하면 발신자 이메일 주소의 도메인과 실제 이메일이 발송되는 도메인이 다를 수 밖에 없습니다. 예를 들어 user@example.com이라는 발신자 주소로 노티플라이를 사용해 이메일을 발송한다면, 실제 발송 도메인은 notifly.tech가 됩니다. SPF, DKIM 설정을 추가하면 노티플라이는 이메일 발신 시에 "example.com 도메인이 인증되었다"는 사실을 이메일에 기록하여 발송하여 신뢰도를 높이고 스팸 분류 확률을 낮출 수 있습니다.

- Q. SPF, DKIM 설정을 했지만 도메인이 인증이 안 됩니다.
  - A. SPF, DKIM 설정은 서버 상황에 따라 최대 48시간까지 소요될 수 있습니다. 설정 값이 잘 등록됐다면 보통 48시간 이내에 설정이 안정적으로 적용됩니다. 더 빠르게 설정값이 제대로 등록되었는지 확인이 필요하신 경우 노티플라이 팀에 문의해 주세요.

- Q. 발송 결과 대시보드의 이메일 수신 거부 수치가 높습니다.
  - A. 아래의 경우 수신자의 이메일 서비스가 메일을 스팸으로 판단할 수 있습니다. 메일 발송 타이밍 설정 및 내용 작성 시 참고해주세요.
      - 짧은 시간에 너무 많은 수의 이메일을 보낼 경우: [분할 발송](/ko/user-guide/campaigns/campaign-segments/segment#throttling)을 활용하여 간격을 두고 발송해주세요.
      - 메일 본문의 내용이 너무 짧거나 외부 링크만 존재할 경우: 외부 컨텐츠에 대한 메일을 보내시더라도 컨텐츠의 일부를 본문에 포함하고 링크를 첨부해주세요.
      - 발신자의 이름과 메일 주소, 메일의 내용이 일치하지 않을 경우 스팸으로 처리될 수 있습니다. 서비스명과 이메일 도메인이 일치시키는 것을 권장합니다.

- Q. Apple로 로그인(@privaterelay.appleid.com)을 사용한 사용자가 있습니다.
  - A. Apple의 이메일 서버로 이메일을 전송하는 경우 도메인에 DMARC 설정이 추가로 필요합니다.
      - 인증받은 이메일 도메인 서버에 아래의 설정값을 추가해주세요.
      - Type: TXT
      - Name: _dmarc.yourdomain.com (예: _dmarc.example.com)
      - Value: v=DMARC1; p=none; rua=mailto:dmarc-reports@example.com; ruf=mailto:forensic-reports@example.com; pct=100
      - Value의 rua 와 ruf 값은 유효한 이메일 주소로 설정해주세요. 위의 값은 example.com으로 설정된 예시 입니다.
